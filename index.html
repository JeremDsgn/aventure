<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{Title}{block:PermalinkPage}{block:PostSummary} â€” {PostSummary}{/block:PostSummary}{/block:PermalinkPage}</title>
    <meta property="og:title" content="{title}">

    {block:Description}
      <meta name="description" content="{MetaDescription}" />
    {/block:Description}

    {block:PermalinkPage}
      {block:PostSummary}
        <meta name="description" content="{PostSummary}" />
      {/block:PostSummary}
    {/block:PermalinkPage}

    <link rel="shortcut icon" href="{Favicon}" />
    <link rel="alternate" type="application/rss+xml" href="{RSS}">
    <link rel="apple-touch-icon" sizes="57x57" href="{Favicon}">
    <link rel="apple-touch-icon" sizes="60x60" href="{Favicon}">
    <link rel="apple-touch-icon" sizes="72x72" href="{Favicon}">
    <link rel="apple-touch-icon" sizes="76x76" href="{Favicon}">
    <link rel="apple-touch-icon" sizes="114x114" href="{Favicon}">
    <link rel="apple-touch-icon" sizes="120x120" href="{Favicon}">
    <link rel="apple-touch-icon" sizes="144x144" href="{Favicon}">
    <link rel="apple-touch-icon" sizes="152x152" href="{Favicon}">
    <link rel="apple-touch-icon" sizes="180x180" href="{Favicon}">
    <link rel="icon" type="image/png" href="{Favicon}" sizes="32x32">
    <link rel="icon" type="image/png" href="{Favicon}" sizes="192x192">
    <link rel="icon" type="image/png" href="{Favicon}" sizes="96x96">
    <link rel="icon" type="image/png" href="{Favicon}" sizes="16x16">

    <!-- Logo upload in Tumblr -->
    <meta name="image:Logo" content="" />
    <meta name="image:Logo Retina" content="" />

    <!-- Assets -->
    <link href="https://fonts.googleapis.com/css?family=Khula:300" rel="stylesheet">
    <link href="http://static.tumblr.com/nczltly/z7aoeq99c/lity.min.css" rel="stylesheet">

    <script src="http://static.tumblr.com/cvhjz4y/JWSn5a9bq/jquery.min.js"></script>
    <script src="http://static.tumblr.com/nczltly/G62oeq8jf/masonry.pkgd.min.js"></script>
    <script src="http://static.tumblr.com/nczltly/08Eoeqldv/jquery.infinitescroll.min.js"></script>
    <script src="http://static.tumblr.com/nczltly/7Xaoeq8jl/imagesloaded.pkgd.min.js"></script>
    <script src="http://static.tumblr.com/nczltly/ml5oeq993/lity.min.js"></script>

    <!-- HTML5 Shiv -->
    <!--[if lt IE 9]>
      <script src="http://static.tumblr.com/hriofhd/Qj0m8pn7q/html5shiv.js"></script>
    <![endif]-->

    <style>
      /*
      * RESET
      */
      html, body, div, span, applet, object, iframe,
      h1, h2, h3, h4, h5, h6, p, blockquote, pre,
      a, abbr, acronym, address, big, cite, code,
      del, dfn, em, img, ins, kbd, q, s, samp,
      small, strike, strong, sub, sup, tt, var,
      b, u, i, center,
      dl, dt, dd, ol, ul, li,
      fieldset, form, label, legend,
      table, caption, tbody, tfoot, thead, tr, th, td,
      article, aside, canvas, details, embed,
      figure, figcaption, footer, header, hgroup,
      menu, nav, output, ruby, section, summary,
      time, mark, audio, video {
        margin: 0;
        padding: 0;
        border: 0;
        font-size: 100%;
        font: inherit;
        vertical-align: baseline;
      }
      /* HTML5 display-role reset for older browsers */
      article, aside, details, figcaption, figure,
      footer, header, hgroup, menu, nav, section {
        display: block;
      }
      body {
        line-height: 1;
      }
      ol, ul {
        list-style: none;
      }
      blockquote, q {
        quotes: none;
      }
      blockquote:before, blockquote:after,
      q:before, q:after {
        content: '';
        content: none;
      }
      table {
        border-collapse: collapse;
        border-spacing: 0;
      }

      img {
        vertical-align: bottom;
        max-width: 100%;
      }

      /*
      * CONTAINER
      */

      body {
        font-family: 'Khula', arial, sans-serif;
        -moz-osx-font-smoothing: grayscale;
        font-smoothing: antialiased;
        text-rendering: optimizelegibility;
      }

      .container {
        padding-left: 30px;
        padding-right: 30px;
      }

      /*
      * HEADER
      */
      .header {
        padding-top: 180px;
        padding-bottom: 160px;
        text-align: center;
      }

      .header .menu {
        margin-top: 40px;
      }

      .header .menu li {
        display: inline-block;
      }

      .header .menu li a {
        position: relative;
        font-size: 16px;
        margin-left: 6px;
        margin-right: 6px;
        color: #ccc;
        text-decoration: none;
        transition: color 400ms ease;
      }

      .header .menu li a::before {
        content: '';
        position: absolute;
        bottom: -4px;
        left: 0;
        width: 0;
        height: 2px;
        background-color: #ccc;
        transition: width 400ms ease;
      }

      .header .menu li:hover a {
        color: #58aee1;
      }

      .header .menu li:hover a::before {
        width: 100%;
        background-color: #58aee1;
      }

      /*
      * PHOTOS POST
      */
      .content .list {
        margin: 0 auto;
      }

      .content .list .post a {
        display: block;
      }

      .content .list .post {
        position: relative;
        max-width: 400px;
        margin: 0 30px 60px;
        cursor: pointer;
        outline: 0;
        -webkit-transform: translateY(60px);
        -moz-transform: translateY(60px);
        transform: translateY(60px);
        transition: 400ms all ease;
        opacity: 0;
      }

      .content .list .post:hover .details {
        opacity: 1;
      }

      .content .list .post .details {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(82, 158, 204, .75);
        opacity: 0;
        transition: 400ms opacity ease;
      }

      /*
      * BUTTONS
      */
      .content .list .post .details .buttons {
        position: relative;
        display: inline-block;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
      }

      .content .list .post .details .buttons li {
        position: relative;
        display: inline-block;
        vertical-align: top;
        margin-right: 20px;
        width: 20px;
        height: 20px;
        cursor: pointer;
      }

      .content .list .post .details .buttons li:last-of-type {
        margin-right: 0;
      }

      .content .list .post .details .buttons .like-group .like_button {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        width: 100%;
        height: 100%;
        opacity: 0;
        z-index: 10;
      }

      .content .list .post .details .buttons .like-group .like_button iframe {
        width: 100% !important;
        height: 100% !important;
      }

      .content .list .post .details .buttons .like-group .like_button:hover + .custom-like svg path,
      .content .list .post .details .buttons .reblog-group:hover svg path {
        fill: #58aee1;
      }

      .content .list .post .details .buttons .like-group .like_button.liked + .custom-like svg path {
        fill: #d74545;
      }

      .content .list .post .details .buttons .like-group .custom-like {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        width: 100%;
        height: 100%;
        z-index: 1;
        cursor: pointer;
      }

      .content .list .post .details .buttons .like-group .custom-like svg path,
      .content .list .post .details .buttons .reblog-group svg path {
        transition: fill 400ms ease;
      }

      /*
      * LOADER
      */
      .loader {
        text-align: center;
        margin-top: 70px;
        margin-bottom: 100px;
      }

      .loader .posts-end {
        font-size: 16px;
        color: #ccc;
      }

      /*
      * PAGINATION
      */
      .pagination {
        display: none !important;
        text-align: center;
      }

      .pagination li a {
        font-size: 12px;
        margin-left: 6px;
        margin-right: 6px;
        color: #ccc;
        text-decoration: none;
        transition: color 400ms ease;
      }
    </style>
  </head>

  <body>
    <div class="container">
      <div class="header">
        <h1><img src="{image:logo}" srcset="{image:logo retina} 2x" alt="{Title}"></h1>

        <ul class="menu">
          <li><a href="https://www.jeremybarbet.com/">portfolio</a></li>
          <li><a href="http://instagram.com/JeremDsgn">instagram</a></li>
          <li><a href="https://twitter.com/JeremDsgn">twitter</a></li>
          <li><a href="https://vimeo.com/JeremDsgn">vimeo</a></li>
        </ul>
      </div>

      <div class="content">
        <ul class="list">
          {block:Posts}
            {block:Photo}
              <li class="post" id="{postID}">
                <a href="{PhotoURL-Highres}" data-lity>
                  <img src="{PhotoURL-500}">

                  <div class="details">
                    <ul class="buttons">
                      <li class="like-group">
                        {LikeButton size="20"}

                        <span class="custom-like">
                          <svg width="18px" height="18px" viewBox="0 0 19 16" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#ffffff">
                            <path d="M14.0425097,0.000920262799 C16.1435097,-0.0400797372 18.8835097,1.28192026 18.9635097,5.36992026 C19.0525097,9.95492026 15.1985097,13.3079203 9.48350967,16.2089203 C3.76650967,13.3079203 -0.0874903349,9.95492026 0.00150966509,5.36992026 C0.0815096651,1.28192026 2.82150967,-0.0400797372 4.92250967,0.000920262799 C7.02450967,0.0419202628 8.87050967,2.26592026 9.46950967,2.92792026 C10.0945097,2.26592026 11.9405097,0.0419202628 14.0425097,0.000920262799 Z"></path>
                          </svg>
                        </span>
                      </li>

                      <li class="reblog-group" onclick="window.open('{ReblogURL}'); event.preventDefault();">
                        <svg width="18px" height="18px" viewBox="0 0 21 21" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#ffffff">
                          <path d="M5.01092527,5.99908429 L16.0088498,5.99908429 L16.136,9.508 L20.836,4.752 L16.136,0.083 L16.1360004,3.01110845 L2.09985349,3.01110845 C1.50585349,3.01110845 0.979248041,3.44726568 0.979248041,4.45007306 L0.979248041,10.9999998 L3.98376463,8.30993634 L3.98376463,6.89801007 C3.98376463,6.20867902 4.71892527,5.99908429 5.01092527,5.99908429 Z"></path>
                          <path d="M17.1420002,13.2800293 C17.1420002,13.5720293 17.022957,14.0490723 16.730957,14.0490723 L4.92919922,14.0490723 L4.92919922,11 L0.5,15.806 L4.92919922,20.5103758 L5.00469971,16.9990234 L18.9700928,16.9990234 C19.5640928,16.9990234 19.9453125,16.4010001 19.9453125,15.8060001 L19.9453125,9.5324707 L17.142,12.203"></path>
                        </svg>
                      </li>
                    </ul>
                  </div>
                </a>
              </li>
            {/block:Photo}
          {/block:Posts}
        </ul>

        <div class="loader"><p class="posts-end"></p></div>
      </div>
    </div>

    <ul class="pagination">
      {block:Pagination}
        {block:PreviousPage}
          <li><a href="{PreviousPage}" class="pagination_prevlink">Previous</a></li>
        {/block:PreviousPage}

        {block:NextPage}
          <li><a href="{NextPage}" class="pagination_nextlink">Next</a></li>
        {/block:NextPage}
      {/block:Pagination}
    </ul>
  </body>

  <script>
    $(window).load(function() {
      // Global selectors
      const post = '.post';
      const postList = $('.list');

      // Item animation
      const translate = 'translateY(0)';
      const delay = (i) => (95 * (i + 2)) + 'ms';

      postList.imagesLoaded(function() {
        postList.masonry({
          itemSelector: post,
          isFitWidth: true,
          transitionDuration: 0,
        });

        postList.find(post).map(function(i) {
          $(this).css({
            '-webkit-transition-delay': delay(i),
            '-ms-transition-delay': delay(i),
            'transition-delay': delay(i),

            '-webkit-transform': translate,
            '-ms-transform': translate,
            'transform': translate,

            'opacity': 1,
          });
        })
      });

      postList.infinitescroll({
        navSelector: '.pagination',
        nextSelector: '.pagination li .pagination_nextlink',
        itemSelector: post,
        bufferPx: 600,
        loading: {
          selector: '.loader',
          finishedMsg: 'Wow, you just watched all my photos. Thanks! ðŸŽ‰',
          msg: $('<svg width="38" height="38" viewBox="0 0 38 38" xmlns="http://www.w3.org/2000/svg" stroke="#333"><g fill="none" fill-rule="evenodd"><g transform="translate(1 1)" stroke-width="2"><circle stroke-opacity=".5" cx="18" cy="18" r="18" /><path d="M36 18c0-9.94-8.06-18-18-18"><animateTransform attributeName="transform" type="rotate" from="0 18 18" to="360 18 18" dur="1s" repeatCount="indefinite" /></path></g></g></svg>'),
        },
      }, function(elements) {
        const nextPosts = $(elements);
        const ids = nextPosts.map(() => this.id).get();

        nextPosts.imagesLoaded(function() {
          Tumblr.LikeButton.get_status_by_post_ids(ids);

          postList.append(nextPosts).masonry('appended', nextPosts);

          nextPosts.map(function(i) {
            $(this).css({
              '-webkit-transition-delay': delay(i),
              '-ms-transition-delay': delay(i),
              'transition-delay': delay(i),

              '-webkit-transform': translate,
              '-ms-transform': translate,
              'transform': translate,

              'opacity': 1,
            });
          });
        });
      });
    });
  </script>
</html>
